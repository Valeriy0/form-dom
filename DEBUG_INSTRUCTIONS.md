# Инструкция по отладке проблемы с сохранением данных

## Что нужно сделать:

### 1. Обновить Google Apps Script код
Скопируйте обновленный код из файла `google-apps-script-code.js` в ваш Google Apps Script проект и переразверните его.

### 2. Проверить логи Google Apps Script
1. Откройте ваш Google Apps Script проект
2. Перейдите в раздел "Выполнения" (Executions)
3. Отправьте форму с вашего сайта
4. Посмотрите на последнее выполнение - там будут логи

### 3. Проверить консоль браузера
1. Откройте ваш сайт
2. Нажмите F12 → вкладка Console
3. Отправьте форму
4. Посмотрите на логи в консоли

### 4. Проверить Google Таблицу
1. Откройте вашу Google Таблицу
2. Убедитесь, что вы смотрите на правильный лист
3. Проверьте, есть ли заголовки в первой строке

## Возможные проблемы и решения:

### Проблема 1: CORS ошибка
**Симптомы:** В консоли браузера видна CORS ошибка
**Решение:** 
- Убедитесь, что Google Apps Script развернут с правами "Все"
- Попробуйте отправить форму локально (localhost)

### Проблема 2: Данные не парсятся
**Симптомы:** В логах Google Apps Script видно "Ошибка парсинга JSON"
**Решение:**
- Проверьте, что Content-Type установлен как application/json
- Убедитесь, что данные отправляются в правильном формате

### Проблема 3: Неправильная таблица
**Симптомы:** Данные не появляются в таблице
**Решение:**
- Убедитесь, что Google Apps Script привязан к правильной таблице
- Проверьте, что таблица не пустая и имеет правильную структуру

### Проблема 4: Права доступа
**Симптомы:** Ошибка 403 или 500
**Решение:**
- Проверьте права доступа к Google Таблице
- Убедитесь, что Google Apps Script имеет права на запись

## Тестовые данные для проверки:

```json
{
  "name": "Тест Тестович",
  "phone": "+7 (999) 123-45-67",
  "consultation": "дом",
  "timestamp": "03.10.2025, 14:38:30"
}
```

## Альтернативный способ тестирования:

Можете протестировать Google Apps Script напрямую:

1. Откройте URL: `https://script.google.com/macros/s/AKfycbyh78RxwFjNwNM93AFiFvM1nF9P6vl-M3twiHz6ek-u2w0gbc5H5k9oRSDgH5nBowAw/exec`
2. Должен вернуться JSON с сообщением "Google Sheets API работает!"

## Если ничего не помогает:

1. Создайте новую Google Таблицу
2. Создайте новый Google Apps Script проект
3. Скопируйте код из `google-apps-script-code.js`
4. Привяжите скрипт к новой таблице
5. Разверните как веб-приложение
6. Обновите URL в React приложении
